CC	= @CC@
CFLAGS	= @CFLAGS@ $(DEFS)
DEFS	= @DEFS@
LDFLAGS	= @LDFLAGS@
LIBS	= @LIBS@

exec_prefix	= @exec_prefix@
bindir		= @bindir@

RM	= @RM@
INSTALL	= @INSTALL@

TARGET	= mbuffer
SOURCES	= mbuffer.c
OBJECTS	= $(SOURCES:.c=.o)

all: $(TARGET)

$(TARGET): $(OBJECTS)
	$(CC) $(LDFLAGS) $(LIBS) $< -o $@

clean:
	$(RM) -f *.o core

distclean: clean
	$(RM) -f $(TARGET) config.h config.cache config.log \
	config.status *~ Makefile out mbuffer.1

install:
	$(INSTALL) $(TARGET) $(bindir)

# dependencies
mbuffer.o : config.h mbuffer.c
